import { useNavigate } from "react-router-dom";
import { useState, useEffect } from "react";

export default function HelpRequest() {
  const navigate = useNavigate();
  const [stage, setStage] = useState("intro"); // intro | reading
  const [current, setCurrent] = useState(0);
  const [visible, setVisible] = useState(false);
  const [isTransitioning, setIsTransitioning] = useState(false);

  const chapters = [
    {
      title: "–ü—Ä–∞–≤–¥–∞, —Å –∫–æ—Ç–æ—Ä–æ–π –≤—Å—ë –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è",
      subtitle: "–ü–æ—á–µ–º—É –∂–µ–ª–∞–Ω–∏–µ –Ω–µ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –¥–≤–∏–∂–µ–Ω–∏–µ",
      text: `–¢—ã —Ö–æ—á–µ—à—å –º–Ω–æ–≥–æ–µ.
–ò–Ω–æ–≥–¥–∞ –Ω–∞—Å—Ç–æ–ª—å–∫–æ –º–Ω–æ–≥–æ–µ, —á—Ç–æ –ø—É–≥–∞–µ—à—å—Å—è –º–∞—Å—à—Ç–∞–±–∞ —Å–≤–æ–∏—Ö –∂–µ–ª–∞–Ω–∏–π.

–¢—ã –≤–∏–¥–∏—à—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—É—é –≤–µ—Ä—Å–∏—é —Å–≤–æ–µ–π –∂–∏–∑–Ω–∏ ‚Äî
–±–æ–ª–µ–µ —Å–æ–±—Ä–∞–Ω–Ω—É—é, –±–æ–ª–µ–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é, –±–æ–ª–µ–µ –∂–∏–≤—É—é.
–ò –∏–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –ø–æ—á—Ç–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—à—å.

–ü—Ä–æ–±–ª–µ–º–∞ –Ω–µ –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ü–µ–ª–µ–π.
–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –∫–∞–∂–¥–∞—è —Ü–µ–ª—å —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∞—è,
–∏ –ª—é–±–æ–µ —Ä–µ–∞–ª—å–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞ –µ—ë —Ñ–æ–Ω–µ
–≤—ã–≥–ª—è–¥–∏—Ç –º–µ–ª–∫–∏–º –∏ –Ω–µ–¥–æ—Å—Ç–æ–π–Ω—ã–º —ç—Ç–æ–π –∫–∞—Ä—Ç–∏–Ω—ã.

–¢—ã —Ö–æ—á–µ—à—å –Ω–∞—á–∞—Ç—å –∫—Ä–∞—Å–∏–≤–æ.
–ê —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å –≤—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–µ–∫—Ä–∞—Å–∏–≤–æ.`,
    },
    {
      title: "–ü–æ—á–µ–º—É —Ç—ã –≤—Å—ë –≤—Ä–µ–º—è ¬´–≥–æ—Ç–æ–≤–∏—à—å—Å—è¬ª",
      subtitle: "–ò –ø–æ—á–µ–º—É —ç—Ç–æ –∫–∞–∂–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º",
      text: `–¢–µ–±–µ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ —Ç—ã –µ—â—ë –Ω–µ –Ω–∞—á–∞–ª.
–ù–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —Ç—ã –¥–∞–≤–Ω–æ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ ‚Äî
–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏.

–¢—ã —á–∏—Ç–∞–µ—à—å, —Ä–∞–∑–º—ã—à–ª—è–µ—à—å, —Å–º–æ—Ç—Ä–∏—à—å, –∫–∞–∫ –¥–µ–ª–∞—é—Ç –¥—Ä—É–≥–∏–µ.
–¢—ã –ø–æ–Ω–∏–º–∞–µ—à—å, –∫–∞–∫ –≤—Å—ë –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ç–µ–æ—Ä–∏–∏.

–ò –∫–∞–∂–¥—ã–π —Ä–∞–∑ –≤–Ω—É—Ç—Ä–∏ –∑–≤—É—á–∏—Ç:
¬´–Ø –Ω–∞—á–Ω—É, –∫–æ–≥–¥–∞ –±—É–¥—É –≥–æ—Ç–æ–≤¬ª.

–ù–æ –ø—Ä–∞–≤–¥–∞ –≤ –¥—Ä—É–≥–æ–º.
–¢—ã –Ω–µ –Ω–∞—á–∏–Ω–∞–µ—à—å –Ω–µ –∏–∑-–∑–∞ –Ω–µ–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏,
–∞ –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–µ—Ä–≤—ã–π —à–∞–≥ —Ä–∞–∑—Ä—É—à–∞–µ—Ç –∏–ª–ª—é–∑–∏—é,
—á—Ç–æ —Ç—ã —É–∂–µ –ø–æ—á—Ç–∏ —Ç–æ—Ç, –∫–µ–º —Ö–æ—á–µ—à—å –±—ã—Ç—å.`,
    },
    {
      title: "–°–∞–º–æ–µ –Ω–µ–ø—Ä–∏—è—Ç–Ω–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ",
      subtitle: "–ú–æ–º–µ–Ω—Ç, –≥–¥–µ —Ç–µ—Ä—è–µ—Ç—Å—è —É–≤–∞–∂–µ–Ω–∏–µ –∫ —Å–µ–±–µ",
      text: `–ï—Å–ª–∏ –±—ã—Ç—å —á–µ—Å—Ç–Ω—ã–º ‚Äî
—Ç—ã —É–∂–µ –º–Ω–æ–≥–æ —Ä–∞–∑ –≤—ã–±–∏—Ä–∞–ª –Ω–µ –¥–µ–ª–∞—Ç—å.

–ù–µ –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ –º–æ–≥.
–ê –ø–æ—Ç–æ–º—É —á—Ç–æ –º–∞–ª–µ–Ω—å–∫–∏–π —à–∞–≥
–Ω–µ —Å–æ–≤–ø–∞–¥–∞–ª —Å –æ–±—Ä–∞–∑–æ–º —Å–µ–±—è –≤ –≥–æ–ª–æ–≤–µ.

–¢—ã —Å–æ—Ö—Ä–∞–Ω—è–ª –æ—â—É—â–µ–Ω–∏–µ
¬´—è —á–µ–ª–æ–≤–µ–∫ —Å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–º¬ª,
–≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã —Å—Ç–æ–ª–∫–Ω—É—Ç—å—Å—è —Å —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é ‚Äî
–Ω–µ–ª–æ–≤–∫–æ–π, —Å–ª–∞–±–æ–π, –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–π.

–ò –∫–∞–∂–¥—ã–π —Ç–∞–∫–æ–π –≤—ã–±–æ—Ä
–º–µ–¥–ª–µ–Ω–Ω–æ –ø–æ–¥—Ç–∞—á–∏–≤–∞–ª —É–≤–∞–∂–µ–Ω–∏–µ –∫ —Å–µ–±–µ.`,
    },
    {
      title: "–ò–ª–ª—é–∑–∏—è ¬´—è –ø—Ä–æ—Å—Ç–æ –µ—â—ë –Ω–µ –Ω–∞—á–∞–ª¬ª",
      subtitle: "–ü–æ—á–µ–º—É –ø–µ—Ä–≤—ã–π —à–∞–≥ –ø—É–≥–∞–µ—Ç",
      text: `–ü–æ–∫–∞ —Ç—ã –Ω–µ –Ω–∞—á–∞–ª ‚Äî
–æ —Ç–µ–±–µ –Ω–µ–ª—å–∑—è —Å–¥–µ–ª–∞—Ç—å –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥.

–¢—ã –æ—Å—Ç–∞—ë—à—å—Å—è –≤ –ø–æ–¥–≤–µ—à–µ–Ω–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏:
—É–º–Ω—ã–π, —Å–ø–æ—Å–æ–±–Ω—ã–π, –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–π.
–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ ‚Äî –∫–µ–º —É–≥–æ–¥–Ω–æ.

–ü–µ—Ä–≤—ã–π —à–∞–≥ –æ–ø–∞—Å–µ–Ω –∏–º–µ–Ω–Ω–æ —ç—Ç–∏–º.
–û–Ω –ø–µ—Ä–µ–≤–æ–¥–∏—Ç —Ç–µ–±—è –∏–∑ ¬´–º–æ–≥ –±—ã¬ª
–≤ ¬´–≤–æ—Ç —á—Ç–æ —è —Ä–µ–∞–ª—å–Ω–æ –¥–µ–ª–∞—é —Å–µ–π—á–∞—Å¬ª.

–ò —ç—Ç–æ —Å—Ç—Ä–∞—à–Ω–æ.
–ü–æ—Ç–æ–º—É —á—Ç–æ –º–æ–∂–µ—Ç –Ω–µ —Å–æ–≤–ø–∞—Å—Ç—å —Å –æ–∂–∏–¥–∞–Ω–∏—è–º–∏.`,
    },
    {
      title: "–ü–æ—á–µ–º—É –±–æ–ª—å—à–∏–µ —Ü–µ–ª–∏ —Ç–µ–±—è –ø–∞—Ä–∞–ª–∏–∑—É—é—Ç",
      subtitle: "–ö–æ–≥–¥–∞ –º–µ—á—Ç–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç –¥–∞–≤–∏—Ç—å",
      text: `–ë–æ–ª—å—à–∞—è —Ü–µ–ª—å —Ä–µ–¥–∫–æ –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç.
–ß–∞—â–µ –æ–Ω–∞ –¥–∞–≤–∏—Ç.

–û–Ω–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç,
–Ω–∞—Å–∫–æ–ª—å–∫–æ —Ç—ã –¥–∞–ª—ë–∫ –æ—Ç –∂–µ–ª–∞–µ–º–æ–≥–æ.
–ò –Ω–∞ —ç—Ç–æ–º —Ñ–æ–Ω–µ –º–∞–ª–µ–Ω—å–∫–∏–π —à–∞–≥
–∫–∞–∂–µ—Ç—Å—è –ø–æ—á—Ç–∏ –∏–∑–¥–µ–≤–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º.

–ö–∞–∫ –±—É–¥—Ç–æ —Ç—ã –ø—Ä–µ–¥–∞—ë—à—å –º–µ—á—Ç—É,
–¥–µ–ª–∞—è —á—Ç–æ-—Ç–æ —Å–ª–∏—à–∫–æ–º –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ.

–í –∏—Ç–æ–≥–µ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏–µ
–∫–∞–∂–µ—Ç—Å—è –º–µ–Ω–µ–µ –±–æ–ª–µ–∑–Ω–µ–Ω–Ω—ã–º, —á–µ–º –¥–≤–∏–∂–µ–Ω–∏–µ.`,
    },
    {
      title: "–ü—Ä–∞–≤–¥–∞, –∫–æ—Ç–æ—Ä—É—é —Å–ª–æ–∂–Ω–æ –ø—Ä–∏–Ω—è—Ç—å",
      subtitle: "–û —á—ë–º –æ–±—ã—á–Ω–æ –º–æ–ª—á–∞—Ç",
      text: `–í–æ—Ç –∏—Å—Ç–∏–Ω–∞, –æ—Ç –∫–æ—Ç–æ—Ä–æ–π –æ–±—ã—á–Ω–æ –æ—Ç–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è:

–¢—ã –Ω–µ –ª–µ–Ω–∏–≤—ã–π.
–¢—ã –∑–∞—Å—Ç—Ä—è–ª –≤ –≥–æ–ª–æ–≤–µ.

–í –≥–æ–ª–æ–≤–µ —à–∞–≥–∏ –≤—ã–≥–ª—è–¥—è—Ç —É–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ –∏ –ª–æ–≥–∏—á–Ω—ã–º–∏.
–í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ ‚Äî –Ω–µ—Ä–æ–≤–Ω—ã–º–∏ –∏ —Å–ª–∞–±—ã–º–∏.

–ò –ø–æ–∫–∞ —Ç—ã –∂–∏–≤—ë—à—å –≤ –≥–æ–ª–æ–≤–µ,
–∂–µ–ª–∞–Ω–∏—è –Ω–µ –¥–≤–∏–≥–∞—é—Ç —Ç–µ–±—è –≤–ø–µ—Ä—ë–¥ ‚Äî
–æ–Ω–∏ –º–µ–¥–ª–µ–Ω–Ω–æ —Ä–∞–∑—ä–µ–¥–∞—é—Ç —Å–∞–º–æ–æ—Ü–µ–Ω–∫—É.
–ü–æ—Ç–æ–º—É —á—Ç–æ —Ç—ã –∑–Ω–∞–µ—à—å:
–º–æ–≥ –±—ã —Å–¥–µ–ª–∞—Ç—å —Ö–æ—Ç—å —á—Ç–æ-—Ç–æ.`,
    },
    {
      title: "–ü–æ—á–µ–º—É –º–∞–ª–µ–Ω—å–∫–∏–π —à–∞–≥ ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã—Ö–æ–¥",
      subtitle: "–ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å",
      text: `–ú–∞–ª–µ–Ω—å–∫–∏–π —à–∞–≥ –Ω—É–∂–µ–Ω –Ω–µ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.
–û–Ω –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã —Å–ª–æ–º–∞—Ç—å –æ–∂–∏–¥–∞–Ω–∏–µ.

–û–Ω –Ω–µ –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç.
–ù–µ –≤—ã–≥–ª—è–¥–∏—Ç –¥–æ—Å—Ç–æ–π–Ω–æ.
–ù–µ –¥–µ–ª–∞–µ—Ç —Ç–µ–±—è –≥–µ—Ä–æ–µ–º.

–ó–∞—Ç–æ –æ–Ω –¥–µ–ª–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ ‚Äî
–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–±—è –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å.

–ú–∞–ª–µ–Ω—å–∫–∏–π —à–∞–≥ ‚Äî
—ç—Ç–æ —Å–æ–≥–ª–∞—Å–∏–µ –ø–µ—Ä–µ—Å—Ç–∞—Ç—å –±—ã—Ç—å –≤–æ–æ–±—Ä–∞–∂–∞–µ–º—ã–º
–∏ –Ω–∞—á–∞—Ç—å –±—ã—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–º.`,
    },
    {
      title: "–ú–æ–º–µ–Ω—Ç, –≥–¥–µ —á—Ç–æ-—Ç–æ –º–µ–Ω—è–µ—Ç—Å—è",
      subtitle: "–°–¥–≤–∏–≥, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –Ω–µ –∑–∞–º–µ—Ç–∏—Ç—å",
      text: `–í –º–æ–º–µ–Ω—Ç –ø–µ—Ä–≤–æ–≥–æ —à–∞–≥–∞
–ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–µ –ø—Ä–æ–≥—Ä–µ—Å—Å ‚Äî
–ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–¥–≤–∏–≥ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏.

–¢—ã –ø–µ—Ä–µ—Å—Ç–∞—ë—à—å –±—ã—Ç—å —Ç–µ–º,
–∫—Ç–æ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –Ω–∞—á–∞—Ç—å,
–∏ —Å—Ç–∞–Ω–æ–≤–∏—à—å—Å—è —Ç–µ–º,
–∫—Ç–æ —É–∂–µ —á—Ç–æ-—Ç–æ —Å–¥–µ–ª–∞–ª.

–ü—É—Å—Ç—å —ç—Ç–æ –º–∞–ª–æ.
–ù–æ –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ –æ—â—É—â–∞–µ—Ç—Å—è –∏–Ω–∞—á–µ.
–¢–µ–±–µ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ –æ–ø—Ä–∞–≤–¥—ã–≤–∞—Ç—å—Å—è.`,
    },
    {
      title: "–ü–æ—á–µ–º—É –∑–¥–µ—Å—å –≤–∞–∂–Ω—ã –ø–æ–ø—ã—Ç–∫–∏, –∞ –Ω–µ —Ü–µ–ª–∏",
      subtitle: "–ß—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –¥–≤–∏–≥–∞–µ—Ç –≤–ø–µ—Ä—ë–¥",
      text: `–¶–µ–ª–∏ —Ç—ã —Å—Ç–∞–≤–∏—Ç—å —É–º–µ–µ—à—å.
–ü—Ä–æ–±–ª–µ–º–∞ –Ω–µ –≤ —ç—Ç–æ–º.

–¶–µ–ª–∏ –Ω–µ –¥–≤–∏–≥–∞—é—Ç —Ç–µ–±—è –≤ –º–æ–º–µ–Ω—Ç–µ.
–ê –ø–æ–ø—ã—Ç–∫–∞ ‚Äî –¥–≤–∏–≥–∞–µ—Ç.

–ü–æ–ø—ã—Ç–∫–∞ ‚Äî —ç—Ç–æ –Ω–µ –æ–±–µ—â–∞–Ω–∏–µ.
–ù–µ –ø–ª–∞–Ω.
–ù–µ –æ–±—Ä–∞–∑ –±—É–¥—É—â–µ–≥–æ.

–≠—Ç–æ —Ñ–∞–∫—Ç.
–¢—ã —Å–¥–µ–ª–∞–ª —á—Ç–æ-—Ç–æ.
–ò —ç—Ç–æ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.`,
    },
    {
      title: "–ü–µ—Ä–≤—ã–π —à–∞–≥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≥–ª—è–¥–∏—Ç –Ω–µ–¥–æ—Å—Ç–æ–π–Ω–æ",
      subtitle: "–ü–æ—á–µ–º—É –æ–Ω —Å–∞–º—ã–π –Ω–∞—Å—Ç–æ—è—â–∏–π",
      text: `–ü–µ—Ä–≤—ã–π —à–∞–≥ –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ —Ä–∞–∑–æ—á–∞—Ä–æ–≤—ã–≤–∞–µ—Ç.
–û–Ω —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π.
–°–ª–∏—à–∫–æ–º –ø—Ä–æ—Å—Ç–æ–π.
–°–ª–∏—à–∫–æ–º –¥–∞–ª—ë–∫–∏–π –æ—Ç –∏–¥–µ–∞–ª–∞.

–ò –∏–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –æ–Ω –Ω–∞—Å—Ç–æ—è—â–∏–π.

–ï—Å–ª–∏ —Ç—ã –≥–æ—Ç–æ–≤ —Å–¥–µ–ª–∞—Ç—å —à–∞–≥,
–∫–æ—Ç–æ—Ä—ã–π –Ω–µ –¥–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∏–ª—É,
–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å ‚Äî
—Ç—ã –≥–æ—Ç–æ–≤ –Ω–∞—á–∞—Ç—å.`,
    },
    {
      title: "–≠—Ç–æ –∏ –µ—Å—Ç—å ¬´–ù–∞—á–∞—Ç—å —Å –Ω–∞—á–∞–ª–∞¬ª",
      subtitle: "–ü—Ä–æ—Å—Ç–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ",
      text: `–ù–∞—á–∞—Ç—å —Å –Ω–∞—á–∞–ª–∞ ‚Äî
—ç—Ç–æ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç –æ–∂–∏–¥–∞–Ω–∏—è,
—á—Ç–æ –æ–¥–Ω–∞–∂–¥—ã —Ç—ã —Å—Ç–∞–Ω–µ—à—å –≥–æ—Ç–æ–≤—ã–º.

–ò –ø—Ä–∏–Ω—è—Ç—å –ø—Ä–æ—Å—Ç—É—é –≤–µ—â—å:
–¥–≤–∏–∂–µ–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–µ —Å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏,
–∞ —Å –¥–µ–π—Å—Ç–≤–∏—è.

–ù–µ—Ä–æ–≤–Ω–æ–≥–æ.
–ú–∞–ª–µ–Ω—å–∫–æ–≥–æ.
–ù–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ.`,
    },
    {
  title: "–ü–æ—á–µ–º—É –ø–æ—è–≤–∏–ª—Å—è —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç",
  subtitle: "–ö–∞–∫ —ç—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ",
  text: `–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ—è–≤–∏–ª—Å—è –Ω–µ —Å—Ä–∞–∑—É.
–û–Ω —Å–æ–±–∏—Ä–∞–ª—Å—è —á–µ—Ä–µ–∑ –ø–æ–ø—ã—Ç–∫–∏.

–ï–≥–æ —Å–æ–∑–¥–∞–≤–∞–ª —á–µ–ª–æ–≤–µ–∫,
–∫–æ—Ç–æ—Ä—ã–π –º–Ω–æ–≥–æ —Ä–∞–∑–≤–∏–≤–∞–ª—Å—è,
—á–∏—Ç–∞–ª, –ø—Ä–æ–±–æ–≤–∞–ª, –æ—à–∏–±–∞–ª—Å—è ‚Äî
–∏ –¥–æ–ª–≥–æ –Ω–µ –≤–∏–¥–µ–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.
–ù–µ –±—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º.
–£—á–∏–ª—Å—è –ø–æ —Ö–æ–¥—É.

–î–æ —ç—Ç–æ–≥–æ –±—ã–ª–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π.
–ù–∏ –æ–¥–Ω–∞ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∞ —Ç–∞–∫, –∫–∞–∫ —Ö–æ—Ç–µ–ª–æ—Å—å.
–ù–æ –∫–∞–∂–¥–∞—è –ø–æ–ø—ã—Ç–∫–∞ –¥–µ–ª–∞–ª–∞ —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ —è—Å–Ω–µ–µ.

–°–æ –≤—Ä–µ–º–µ–Ω–µ–º —Å—Ç–∞–ª–æ –ø–æ–Ω—è—Ç–Ω–æ:
–≤–∞–∂–µ–Ω –Ω–µ —É—Å–ø–µ—Ö,
–∞ —Å–∞–º–æ –¥–≤–∏–∂–µ–Ω–∏–µ.

–¢–∞–∫ –ø–æ—è–≤–∏–ª–∞—Å—å —Å–∏—Å—Ç–µ–º–∞.
–ù–µ –∏–¥–µ–∞–ª—å–Ω–∞—è.
–ù–æ –∂–∏–≤–∞—è.`,
},

    {
      title: "–§–æ—Ä–º—É–ª–∞, –∫ –∫–æ—Ç–æ—Ä–æ–π –≤—Å—ë —Å–≤–µ–ª–æ—Å—å",
      subtitle: "–ß—Ç–æ –æ–∫–∞–∑–∞–ª–æ—Å—å –≤–∞–∂–Ω–µ–µ –≤—Å–µ–≥–æ",
      text: `–í –∫–∞–∫–æ–π-—Ç–æ –º–æ–º–µ–Ω—Ç —Å—Ç–∞–ª–æ —è—Å–Ω–æ:

–¥–≤–∏–≥–∞–µ—Ç –Ω–µ —Ü–µ–ª—å  
–Ω–µ –º–æ—Ç–∏–≤–∞—Ü–∏—è  
–Ω–µ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ  

–ê —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤–∏–¥–µ—Ç—å –∏ –∑–∞—Å—á–∏—Ç—ã–≤–∞—Ç—å —Å–≤–æ–∏ —à–∞–≥–∏,
–¥–∞–∂–µ –∫–æ–≥–¥–∞ –æ–Ω–∏ –≤—ã–≥–ª—è–¥—è—Ç –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–º–∏.

–ò–∑ —ç—Ç–æ–≥–æ —Ä–æ–¥–∏–ª–æ—Å—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Äî
–∫–∞–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç,
–∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –Ω–µ —Ç–µ—Ä—è—Ç—å –¥–≤–∏–∂–µ–Ω–∏–µ.`,
    },
    {
      title: "–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞",
      subtitle: "–° —á–µ–≥–æ –≤—Å—ë –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è",
      text: `–ï—Å–ª–∏ —Ç—ã –∑–¥–µ—Å—å ‚Äî
–∑–Ω–∞—á–∏—Ç, —Ç—ã —É—Å—Ç–∞–ª —Ö–æ—Ç–µ—Ç—å –∏ –Ω–µ –Ω–∞—á–∏–Ω–∞—Ç—å.

–¢–µ–±–µ –Ω–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å –∂–∏–∑–Ω—å.
–ù–µ –Ω—É–∂–Ω–æ –≤–µ—Ä–∏—Ç—å.
–ù–µ –Ω—É–∂–Ω–æ –æ–±–µ—â–∞—Ç—å.

–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–¥–Ω–æ–≥–æ —à–∞–≥–∞.
–û–¥–Ω–æ–π –ø–æ–ø—ã—Ç–∫–∏.

–° –Ω–µ—ë –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ.`,
    },
  ];

  useEffect(() => {
    setVisible(false);
    const t = setTimeout(() => setVisible(true), 50);
    return () => clearTimeout(t);
  }, [current, stage]);

  const handleNext = () => {
    if (isTransitioning) return;
    
    setIsTransitioning(true);
    
    if (current < chapters.length - 1) {
      setTimeout(() => {
        setVisible(false);
        setTimeout(() => {
          setCurrent(current + 1);
          window.scrollTo({ top: 0, behavior: "instant" });
          setIsTransitioning(false);
        }, 150);
      }, 100);
    } else {
      // –ü–æ—Å–ª–µ–¥–Ω—è—è –≥–ª–∞–≤–∞ - –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ /new-task
      setTimeout(() => {
        setVisible(false);
        setTimeout(() => {
          navigate("/new-task");
          setIsTransitioning(false);
        }, 150);
      }, 100);
    }
  };

  const handleBack = () => {
    if (isTransitioning) return;
    
    setIsTransitioning(true);
    setTimeout(() => {
      setVisible(false);
      setTimeout(() => {
        if (stage === "reading") {
          setStage("intro");
        } else {
          navigate(-1);
        }
        setIsTransitioning(false);
      }, 150);
    }, 100);
  };

  const handleIntroContinue = () => {
    if (isTransitioning) return;
    
    setIsTransitioning(true);
    setTimeout(() => {
      setVisible(false);
      setTimeout(() => {
        setStage("reading");
        setCurrent(0);
        setIsTransitioning(false);
      }, 150);
    }, 100);
  };

  return (
    <>
      <style>{`
        * {
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

body {
  margin: 0;
  background: #f3f3f5;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
}

/* ===== –û–°–ù–û–í–ù–û–ô –≠–ö–†–ê–ù ===== */
.screen {
  max-width: 520px;
  margin: 0 auto;
  min-height: 100dvh;
  display: flex;
  flex-direction: column;

  /* –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –≤–µ—Ä—Ö–Ω–∏–π –æ—Ç—Å—Ç—É–ø */
  padding-top: clamp(72px, 10vh, 100px);

  /* safe-area –¥–ª—è iOS */
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* ===== HEADER ===== */
.header {
  height: 56px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  font-size: 15px;
  color: #777;
  transition: opacity 0.3s ease;
}

.header.hidden {
  opacity: 0;
}

.back,
.close {
  position: absolute;
  font-size: 20px;
  color: #888;
  cursor: pointer;
  background: none;
  border: none;
  padding: 8px;
  width: 44px;
  height: 44px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.back { left: 16px; }
.close { right: 16px; }

/* ===== INTRO ===== */
.intro {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  text-align: center;

  padding: 0 clamp(16px, 5vw, 24px);

  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.intro.hidden {
  opacity: 0;
  transform: translateY(20px);
  pointer-events: none;
}

.intro-title {
  font-size: clamp(22px, 5vw, 26px);
  font-weight: 500;
  margin-bottom: 12px;
  line-height: 1.3;
}

.intro-subtitle {
  font-size: 15px;
  color: #888;
  line-height: 1.5;
  margin-bottom: 32px;
}

/* ===== CONTENT ===== */
.content-wrapper {
  flex: 1;
  display: flex;
  justify-content: center;
  overflow: hidden;
}

.content {
  width: 100%;
  max-width: 460px; /* üî• –∫–ª—é—á–µ–≤–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
  padding: clamp(16px, 5vw, 24px);

  opacity: 0;
  transform: translateY(20px);
  transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);

  overflow-y: auto;
}

.content.visible {
  opacity: 1;
  transform: translateY(0);
}

.content.hidden {
  opacity: 0;
  transform: translateY(-20px);
  pointer-events: none;
}

/* ===== TEXT ===== */
.chapter-title {
  font-size: clamp(20px, 4.5vw, 22px);
  font-weight: 500;
  margin-bottom: 8px;
}

.chapter-subtitle {
  font-size: 14px;
  color: #888;
  margin-bottom: 24px;
}

.text {
  font-size: clamp(14px, 3.8vw, 15px);
  line-height: 1.65;
  color: #444;
  white-space: pre-line;
  margin-bottom: 40px;
}

/* ===== NEXT ===== */
.next {
  margin-top: 40px;
  padding: 20px 0;
  border-top: 1px solid #eee;
  font-size: 15px;
  color: #888;
  text-align: center;
  cursor: pointer;
}

.progress {
  text-align: center;
  font-size: 13px;
  color: #aaa;
  margin-top: 8px;
}

/* ===== TRANSITION ===== */
.transition-overlay {
  position: fixed;
  inset: 0;
  background: #f3f3f5;
  z-index: 1000;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.15s ease;
}

.transition-overlay.active {
  opacity: 1;
}

/* ===== –ë–û–õ–¨–®–ò–ï –≠–ö–†–ê–ù–´ ===== */
@media (min-width: 768px) {
  .screen {
    padding-top: 80px;
  }
}

      `}</style>

      {/* –ü–ª–∞–≤–Ω—ã–π –æ–≤–µ—Ä–ª–µ–π –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ */}
      <div className={`transition-overlay ${isTransitioning ? 'active' : ''}`}></div>

      {stage === "intro" && (
        <div className="screen">
          <div className={`header ${isTransitioning ? 'hidden' : ''}`}>
            –ú–∞–ª–µ–Ω—å–∫–∏–µ —à–∞–≥–∏
            <button className="back" onClick={handleBack}>‚Üê</button>
          </div>

          <div className={`intro ${isTransitioning ? 'hidden' : ''}`}>
            <div className="intro-title">
              –ü—Ä–∞–≤–¥–∞, <br /> —Å –∫–æ—Ç–æ—Ä–æ–π –≤—Å—ë –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è
            </div>
            <div className="intro-subtitle">
              –ü–æ—á–µ–º—É –∂–µ–ª–∞–Ω–∏–µ –Ω–µ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è <br /> –≤ –¥–≤–∏–∂–µ–Ω–∏–µ
            </div>
            <button className="intro-action" onClick={handleIntroContinue}>
              –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å ‚Üí
            </button>
          </div>
        </div>
      )}

      {stage === "reading" && (
        <div className="screen">
          <div className={`header ${isTransitioning ? 'hidden' : ''}`}>
            –ü–µ—Ä–≤—ã–π —à–∞–≥
            <button className="close" onClick={handleBack}>‚úï</button>
          </div>

          <div className="content-wrapper">
            <div className={`content ${visible ? 'visible' : ''} ${isTransitioning ? 'hidden' : ''}`}>
              <div className="chapter-title">{chapters[current].title}</div>
              <div className="chapter-subtitle">{chapters[current].subtitle}</div>
              <div className="text">{chapters[current].text}</div>

              <div
                className="next"
                onClick={handleNext}
              >
                {current < chapters.length - 1
                  ? "–î–∞–ª—å—à–µ ‚Üí"
                  : "–°–¥–µ–ª–∞—Ç—å –ø–µ—Ä–≤—É—é –ø–æ–ø—ã—Ç–∫—É ‚Üí"}
              </div>
              
              <div className="progress">
                {current + 1} –∏–∑ {chapters.length}
              </div>
            </div>
          </div>
        </div>
      )}
    </>
  );
}