import { useNavigate } from "react-router-dom";
import { useState, useEffect } from "react";

export default function HelpRequest() {
  const navigate = useNavigate();
  const [stage, setStage] = useState("intro"); // intro | reading
  const [current, setCurrent] = useState(0);
  const [visible, setVisible] = useState(false);

  const chapters = [
    {
      title: "Правда, с которой всё начинается",
      subtitle: "Почему желание не превращается в движение",
      text: `Ты хочешь многое.
Иногда настолько многое, что пугаешься масштаба своих желаний.

Ты видишь альтернативную версию своей жизни —
более собранную, более реализованную, более живую.
И именно поэтому почти ничего не делаешь.

Проблема не в отсутствии целей.
Проблема в том, что каждая цель слишком большая,
и любое реальное действие на её фоне
выглядит мелким и недостойным этой картины.

Ты хочешь начать красиво.
А реальность всегда начинается некрасиво.`,
    },
    {
      title: "Почему ты всё время «готовишься»",
      subtitle: "И почему это кажется правильным",
      text: `Тебе кажется, что ты ещё не начал.
Но на самом деле ты давно в процессе —
в процессе подготовки.

Ты читаешь, размышляешь, смотришь, как делают другие.
Ты понимаешь, как всё должно работать в теории.

И каждый раз внутри звучит:
«Я начну, когда буду готов».

Но правда в другом.
Ты не начинаешь не из-за неготовности,
а потому что первый шаг разрушает иллюзию,
что ты уже почти тот, кем хочешь быть.`,
    },
    {
      title: "Самое неприятное наблюдение",
      subtitle: "Момент, где теряется уважение к себе",
      text: `Если быть честным —
ты уже много раз выбирал не делать.

Не потому что не мог.
А потому что маленький шаг
не совпадал с образом себя в голове.

Ты сохранял ощущение
«я человек с потенциалом»,
вместо того чтобы столкнуться с реальностью —
неловкой, слабой, несовершенной.

И каждый такой выбор
медленно подтачивал уважение к себе.`,
    },
    {
      title: "Иллюзия «я просто ещё не начал»",
      subtitle: "Почему первый шаг пугает",
      text: `Пока ты не начал —
о тебе нельзя сделать окончательный вывод.

Ты остаёшься в подвешенном состоянии:
умный, способный, перспективный.
Потенциально — кем угодно.

Первый шаг опасен именно этим.
Он переводит тебя из «мог бы»
в «вот что я реально делаю сейчас».

И это страшно.
Потому что может не совпасть с ожиданиями.`,
    },
    {
      title: "Почему большие цели тебя парализуют",
      subtitle: "Когда мечта начинает давить",
      text: `Большая цель редко мотивирует.
Чаще она давит.

Она каждый день напоминает,
насколько ты далёк от желаемого.
И на этом фоне маленький шаг
кажется почти издевательством.

Как будто ты предаёшь мечту,
делая что-то слишком незначительное.

В итоге бездействие
кажется менее болезненным, чем движение.`,
    },
    {
      title: "Правда, которую сложно принять",
      subtitle: "О чём обычно молчат",
      text: `Вот истина, от которой обычно отворачиваются:

Ты не ленивый.
Ты застрял в голове.

В голове шаги выглядят уверенными и логичными.
В реальности — неровными и слабыми.

И пока ты живёшь в голове,
желания не двигают тебя вперёд —
они медленно разъедают самооценку.
Потому что ты знаешь:
мог бы сделать хоть что-то.`,
    },
    {
      title: "Почему маленький шаг — единственный выход",
      subtitle: "Что возвращает в реальность",
      text: `Маленький шаг нужен не для результата.
Он нужен, чтобы сломать ожидание.

Он не вдохновляет.
Не выглядит достойно.
Не делает тебя героем.

Зато он делает главное —
возвращает тебя в реальность.

Маленький шаг —
это согласие перестать быть воображаемым
и начать быть настоящим.`,
    },
    {
      title: "Момент, где что-то меняется",
      subtitle: "Сдвиг, который невозможно не заметить",
      text: `В момент первого шага
происходит не прогресс —
происходит сдвиг идентичности.

Ты перестаёшь быть тем,
кто собирается начать,
и становишься тем,
кто уже что-то сделал.

Пусть это мало.
Но внутри это ощущается иначе.
Тебе больше не нужно оправдываться.`,
    },
    {
      title: "Почему здесь важны попытки, а не цели",
      subtitle: "Что действительно двигает вперёд",
      text: `Цели ты ставить умеешь.
Проблема не в этом.

Цели не двигают тебя в моменте.
А попытка — двигает.

Попытка — это не обещание.
Не план.
Не образ будущего.

Это факт.
Ты сделал что-то.
И это нельзя отменить.`,
    },
    {
      title: "Первый шаг, который выглядит недостойно",
      subtitle: "Почему он самый настоящий",
      text: `Первый шаг почти всегда разочаровывает.
Он слишком маленький.
Слишком простой.
Слишком далёкий от идеала.

И именно поэтому он настоящий.

Если ты готов сделать шаг,
который не доказывает силу,
а показывает реальность —
ты готов начать.`,
    },
    {
      title: "Это и есть «Начать с начала»",
      subtitle: "Простое определение",
      text: `Начать с начала —
это отказаться от ожидания,
что однажды ты станешь готовым.

И принять простую вещь:
движение начинается не с уверенности,
а с действия.

Неровного.
Маленького.
Но реального.`,
    },
    {
      title: "Почему появился этот проект",
      subtitle: "История без героизма",
      text: `Этот проект появился не из теории.
Он появился из тупика.

Его создавал человек,
который тоже хотел многое
и годами почти ничего не делал.
Не был разработчиком.
Не умел создавать продукты.

Три года неловких попыток —
ошибки, паузы, возвращения.
Фиксация не успехов,
а самого факта движения.

Так появилась система.
Не идеальная.
Но живая.`,
    },
    {
      title: "Формула, к которой всё свелось",
      subtitle: "Что оказалось важнее всего",
      text: `В какой-то момент стало ясно:

двигает не цель  
не мотивация  
не вдохновение  

А способность видеть и засчитывать свои шаги,
даже когда они выглядят незначительными.

Из этого родилось приложение —
как инструмент,
который помогает не терять движение.`,
    },
    {
      title: "Точка входа",
      subtitle: "С чего всё начинается",
      text: `Если ты здесь —
значит, ты устал хотеть и не начинать.

Тебе не нужно менять жизнь.
Не нужно верить.
Не нужно обещать.

Достаточно одного шага.
Одной попытки.

С неё и начинается всё остальное.`,
    },
  ];

  useEffect(() => {
    setVisible(false);
    const t = setTimeout(() => setVisible(true), 120);
    return () => clearTimeout(t);
  }, [current, stage]);

  return (
    <>
      <style>{`
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
          margin: 0;
          background: #f3f3f5;
          font-family: -apple-system, BlinkMacSystemFont, sans-serif;
        }

        .screen {
          max-width: 520px;
          margin: 0 auto;
          min-height: 100vh;
          display: flex;
          flex-direction: column;
        }

        .header {
          height: 56px;
          display: flex;
          align-items: center;
          justify-content: center;
          position: relative;
          font-size: 15px;
          color: #777;
        }

        .back, .close {
          position: absolute;
          font-size: 20px;
          color: #888;
          cursor: pointer;
        }

        .back { left: 16px; }
        .close { right: 16px; }

        .intro {
          flex: 1;
          display: flex;
          flex-direction: column;
          justify-content: center;
          text-align: center;
          padding: 0 24px;
        }

        .intro-title {
          font-size: 26px;
          font-weight: 500;
          margin-bottom: 12px;
        }

        .intro-subtitle {
          font-size: 15px;
          color: #888;
          line-height: 1.5;
        }

        .intro-action {
          margin-top: 32px;
          background: #e9e9ec;
          padding: 12px 22px;
          border-radius: 20px;
          font-size: 14px;
          cursor: pointer;
          align-self: center;
        }

        .content {
          flex: 1;
          padding: 24px;
          overflow-y: auto;
          opacity: 0;
          transform: translateY(12px);
          transition: all 0.6s ease;
        }

        .content.visible {
          opacity: 1;
          transform: translateY(0);
        }

        .chapter-title {
          font-size: 22px;
          font-weight: 500;
          margin-bottom: 8px;
        }

        .chapter-subtitle {
          font-size: 14px;
          color: #888;
          margin-bottom: 24px;
        }

        .text {
          font-size: 15px;
          line-height: 1.7;
          color: #444;
          white-space: pre-line;
        }

        .next {
          margin: 32px 0 12px;
          font-size: 14px;
          color: #888;
          cursor: pointer;
        }
      `}</style>

      {stage === "intro" && (
        <div className="screen">
          <div className="header">
            Маленькие шаги
            <div className="back" onClick={() => navigate(-1)}>←</div>
          </div>

          <div className="intro">
            <div className="intro-title">
              Правда, <br /> с которой всё начинается
            </div>
            <div className="intro-subtitle">
              Почему желание не превращается <br /> в движение
            </div>
            <div className="intro-action" onClick={() => setStage("reading")}>
              Продолжить →
            </div>
          </div>
        </div>
      )}

      {stage === "reading" && (
        <div className="screen">
          <div className="header">
            Маленькие шаги
            <div className="close" onClick={() => navigate(-1)}>✕</div>
          </div>

          <div className={`content ${visible ? "visible" : ""}`}>
            <div className="chapter-title">{chapters[current].title}</div>
            <div className="chapter-subtitle">{chapters[current].subtitle}</div>
            <div className="text">{chapters[current].text}</div>

            <div
              className="next"
              onClick={() => {
                if (current < chapters.length - 1) {
                  setCurrent(current + 1);
                  window.scrollTo({ top: 0, behavior: "smooth" });
                } else {
                  navigate(-1);
                }
              }}
            >
              {current < chapters.length - 1
                ? "Дальше →"
                : "Сделать первую попытку →"}
            </div>
          </div>
        </div>
      )}
    </>
  );
}
